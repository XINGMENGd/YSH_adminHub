import{I as ze,am as st,d as Q,an as He,J as be,ao as nt,t as W,ap as rt,o as L,c as P,a3 as X,D as z,F as T,G as a,a1 as ye,e as K,w as q,Z as ee,$ as qe,aq as ae,a2 as I,a0 as se,H as ue,ar as at,U as We,as as Le,x as le,r as ne,A as Ve,at as ot,au as it,av as lt,aw as ut,ax as $e,ay as _e,az as ct,aA as dt,aB as ft,a5 as Ae,k as fe,m as j,aC as pt,aD as Ye,aE as ht,aF as Ke,aG as Je,q as Ue,M as Me,aH as Ze,aI as we,aJ as G,aK as me,R as ge,aj as Se,aL as Ge,aM as de,aN as yt,aO as vt,aP as gt,a4 as mt,p as bt,aQ as Ce,aR as $t,aS as _t,y as Te,z as wt,O as St,aT as Ct,al as Re,ai as Oe,T as kt,_ as Dt}from"./index-c83e4276.js";import{d as Ft,a as At,b as Mt,c as Rt,u as Et}from"./use-dialog-1ad06177.js";const Lt=(...i)=>f=>{i.forEach(l=>{ze(l)?l(f):l.value=f})},Xe=Symbol("dialogInjectionKey"),Qe=Symbol("uploadContextKey");var ke={},Ut={get exports(){return ke},set exports(i){ke=i}};(function(i,f){(function(l,d){i.exports=d()})(st,function(){var l=1e3,d=6e4,b=36e5,k="millisecond",_="second",C="minute",A="hour",$="day",M="week",g="month",u="quarter",y="year",c="date",w="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,r=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,o={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var v=["th","st","nd","rd"],p=F%100;return"["+F+(v[(p-20)%10]||v[p]||v[0])+"]"}},e=function(F,v,p){var S=String(F);return!S||S.length>=v?F:""+Array(v+1-S.length).join(p)+F},t={s:e,z:function(F){var v=-F.utcOffset(),p=Math.abs(v),S=Math.floor(p/60),h=p%60;return(v<=0?"+":"-")+e(S,2,"0")+":"+e(h,2,"0")},m:function F(v,p){if(v.date()<p.date())return-F(p,v);var S=12*(p.year()-v.year())+(p.month()-v.month()),h=v.clone().add(S,g),R=p-h<0,E=v.clone().add(S+(R?-1:1),g);return+(-(S+(p-h)/(R?h-E:E-h))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:g,y,w:M,d:$,D:c,h:A,m:C,s:_,ms:k,Q:u}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},n="en",s={};s[n]=o;var O="$isDayjsObject",N=function(F){return F instanceof J||!(!F||!F[O])},V=function F(v,p,S){var h;if(!v)return n;if(typeof v=="string"){var R=v.toLowerCase();s[R]&&(h=R),p&&(s[R]=p,h=R);var E=v.split("-");if(!h&&E.length>1)return F(E[0])}else{var B=v.name;s[B]=v,h=B}return!S&&h&&(n=h),h||!S&&n},D=function(F,v){if(N(F))return F.clone();var p=typeof v=="object"?v:{};return p.date=F,p.args=arguments,new J(p)},U=t;U.l=V,U.i=N,U.w=function(F,v){return D(F,{locale:v.$L,utc:v.$u,x:v.$x,$offset:v.$offset})};var J=function(){function F(p){this.$L=V(p.locale,null,!0),this.parse(p),this.$x=this.$x||p.x||{},this[O]=!0}var v=F.prototype;return v.parse=function(p){this.$d=function(S){var h=S.date,R=S.utc;if(h===null)return new Date(NaN);if(U.u(h))return new Date;if(h instanceof Date)return new Date(h);if(typeof h=="string"&&!/Z$/i.test(h)){var E=h.match(m);if(E){var B=E[2]-1||0,H=(E[7]||"0").substring(0,3);return R?new Date(Date.UTC(E[1],B,E[3]||1,E[4]||0,E[5]||0,E[6]||0,H)):new Date(E[1],B,E[3]||1,E[4]||0,E[5]||0,E[6]||0,H)}}return new Date(h)}(p),this.init()},v.init=function(){var p=this.$d;this.$y=p.getFullYear(),this.$M=p.getMonth(),this.$D=p.getDate(),this.$W=p.getDay(),this.$H=p.getHours(),this.$m=p.getMinutes(),this.$s=p.getSeconds(),this.$ms=p.getMilliseconds()},v.$utils=function(){return U},v.isValid=function(){return this.$d.toString()!==w},v.isSame=function(p,S){var h=D(p);return this.startOf(S)<=h&&h<=this.endOf(S)},v.isAfter=function(p,S){return D(p)<this.startOf(S)},v.isBefore=function(p,S){return this.endOf(S)<D(p)},v.$g=function(p,S,h){return U.u(p)?this[S]:this.set(h,p)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(p,S){var h=this,R=!!U.u(S)||S,E=U.p(p),B=function(ie,x){var re=U.w(h.$u?Date.UTC(h.$y,x,ie):new Date(h.$y,x,ie),h);return R?re:re.endOf($)},H=function(ie,x){return U.w(h.toDate()[ie].apply(h.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(x)),h)},Y=this.$W,Z=this.$M,te=this.$D,ce="set"+(this.$u?"UTC":"");switch(E){case y:return R?B(1,0):B(31,11);case g:return R?B(1,Z):B(0,Z+1);case M:var oe=this.$locale().weekStart||0,pe=(Y<oe?Y+7:Y)-oe;return B(R?te-pe:te+(6-pe),Z);case $:case c:return H(ce+"Hours",0);case A:return H(ce+"Minutes",1);case C:return H(ce+"Seconds",2);case _:return H(ce+"Milliseconds",3);default:return this.clone()}},v.endOf=function(p){return this.startOf(p,!1)},v.$set=function(p,S){var h,R=U.p(p),E="set"+(this.$u?"UTC":""),B=(h={},h[$]=E+"Date",h[c]=E+"Date",h[g]=E+"Month",h[y]=E+"FullYear",h[A]=E+"Hours",h[C]=E+"Minutes",h[_]=E+"Seconds",h[k]=E+"Milliseconds",h)[R],H=R===$?this.$D+(S-this.$W):S;if(R===g||R===y){var Y=this.clone().set(c,1);Y.$d[B](H),Y.init(),this.$d=Y.set(c,Math.min(this.$D,Y.daysInMonth())).$d}else B&&this.$d[B](H);return this.init(),this},v.set=function(p,S){return this.clone().$set(p,S)},v.get=function(p){return this[U.p(p)]()},v.add=function(p,S){var h,R=this;p=Number(p);var E=U.p(S),B=function(Z){var te=D(R);return U.w(te.date(te.date()+Math.round(Z*p)),R)};if(E===g)return this.set(g,this.$M+p);if(E===y)return this.set(y,this.$y+p);if(E===$)return B(1);if(E===M)return B(7);var H=(h={},h[C]=d,h[A]=b,h[_]=l,h)[E]||1,Y=this.$d.getTime()+p*H;return U.w(Y,this)},v.subtract=function(p,S){return this.add(-1*p,S)},v.format=function(p){var S=this,h=this.$locale();if(!this.isValid())return h.invalidDate||w;var R=p||"YYYY-MM-DDTHH:mm:ssZ",E=U.z(this),B=this.$H,H=this.$m,Y=this.$M,Z=h.weekdays,te=h.months,ce=h.meridiem,oe=function(x,re,he,ve){return x&&(x[re]||x(S,R))||he[re].slice(0,ve)},pe=function(x){return U.s(B%12||12,x,"0")},ie=ce||function(x,re,he){var ve=x<12?"AM":"PM";return he?ve.toLowerCase():ve};return R.replace(r,function(x,re){return re||function(he){switch(he){case"YY":return String(S.$y).slice(-2);case"YYYY":return U.s(S.$y,4,"0");case"M":return Y+1;case"MM":return U.s(Y+1,2,"0");case"MMM":return oe(h.monthsShort,Y,te,3);case"MMMM":return oe(te,Y);case"D":return S.$D;case"DD":return U.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return oe(h.weekdaysMin,S.$W,Z,2);case"ddd":return oe(h.weekdaysShort,S.$W,Z,3);case"dddd":return Z[S.$W];case"H":return String(B);case"HH":return U.s(B,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return ie(B,H,!0);case"A":return ie(B,H,!1);case"m":return String(H);case"mm":return U.s(H,2,"0");case"s":return String(S.$s);case"ss":return U.s(S.$s,2,"0");case"SSS":return U.s(S.$ms,3,"0");case"Z":return E}return null}(x)||E.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(p,S,h){var R,E=this,B=U.p(S),H=D(p),Y=(H.utcOffset()-this.utcOffset())*d,Z=this-H,te=function(){return U.m(E,H)};switch(B){case y:R=te()/12;break;case g:R=te();break;case u:R=te()/3;break;case M:R=(Z-Y)/6048e5;break;case $:R=(Z-Y)/864e5;break;case A:R=Z/b;break;case C:R=Z/d;break;case _:R=Z/l;break;default:R=Z}return h?R:U.a(R)},v.daysInMonth=function(){return this.endOf(g).$D},v.$locale=function(){return s[this.$L]},v.locale=function(p,S){if(!p)return this.$L;var h=this.clone(),R=V(p,S,!0);return R&&(h.$L=R),h},v.clone=function(){return U.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},F}(),Ee=J.prototype;return D.prototype=Ee,[["$ms",k],["$s",_],["$m",C],["$H",A],["$W",$],["$M",g],["$y",y],["$D",c]].forEach(function(F){Ee[F[1]]=function(v){return this.$g(v,F[0],F[1])}}),D.extend=function(F,v){return F.$i||(F(v,J,D),F.$i=!0),D},D.locale=V,D.isDayjs=N,D.unix=function(F){return D(1e3*F)},D.en=s[n],D.Ls=s,D.p={},D})})(Ut);const Ps=ke,Tt=["aria-label"],Ot=["id"],Pt=Q({name:"ElDialogContent"}),Bt=Q({...Pt,props:Ft,emits:At,setup(i){const f=i,{t:l}=He(),{Close:d}=at,{dialogRef:b,headerRef:k,bodyId:_,ns:C,style:A}=be(Xe),{focusTrapRef:$}=be(nt),M=Lt($,b),g=W(()=>f.draggable);return rt(b,k,g),(u,y)=>(L(),P("div",{ref:a(M),class:T([a(C).b(),a(C).is("fullscreen",u.fullscreen),a(C).is("draggable",a(g)),a(C).is("align-center",u.alignCenter),{[a(C).m("center")]:u.center},u.customClass]),style:se(a(A)),tabindex:"-1"},[X("header",{ref_key:"headerRef",ref:k,class:T(a(C).e("header"))},[z(u.$slots,"header",{},()=>[X("span",{role:"heading",class:T(a(C).e("title"))},ye(u.title),3)]),u.showClose?(L(),P("button",{key:0,"aria-label":a(l)("el.dialog.close"),class:T(a(C).e("headerbtn")),type:"button",onClick:y[0]||(y[0]=c=>u.$emit("close"))},[K(a(ae),{class:T(a(C).e("close"))},{default:q(()=>[(L(),ee(qe(u.closeIcon||a(d))))]),_:1},8,["class"])],10,Tt)):I("v-if",!0)],2),X("div",{id:a(_),class:T(a(C).e("body"))},[z(u.$slots,"default")],10,Ot),u.$slots.footer?(L(),P("footer",{key:0,class:T(a(C).e("footer"))},[z(u.$slots,"footer")],2)):I("v-if",!0)],6))}});var It=ue(Bt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const jt=["aria-label","aria-labelledby","aria-describedby"],Nt=Q({name:"ElDialog",inheritAttrs:!1}),zt=Q({...Nt,props:Mt,emits:Rt,setup(i,{expose:f}){const l=i,d=We();Le({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},W(()=>!!d.title)),Le({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},W(()=>!!l.customClass));const b=le("dialog"),k=ne(),_=ne(),C=ne(),{visible:A,titleId:$,bodyId:M,style:g,overlayDialogStyle:u,rendered:y,zIndex:c,afterEnter:w,afterLeave:m,beforeLeave:r,handleClose:o,onModalClick:e,onOpenAutoFocus:t,onCloseAutoFocus:n,onCloseRequested:s,onFocusoutPrevented:O}=Et(l,k);Ve(Xe,{dialogRef:k,headerRef:_,bodyId:M,ns:b,rendered:y,style:g});const N=ot(e),V=W(()=>l.draggable&&!l.fullscreen);return f({visible:A,dialogContentRef:C}),(D,U)=>(L(),ee(ft,{to:"body",disabled:!D.appendToBody},[K(dt,{name:"dialog-fade",onAfterEnter:a(w),onAfterLeave:a(m),onBeforeLeave:a(r),persisted:""},{default:q(()=>[it(K(a(lt),{"custom-mask-event":"",mask:D.modal,"overlay-class":D.modalClass,"z-index":a(c)},{default:q(()=>[X("div",{role:"dialog","aria-modal":"true","aria-label":D.title||void 0,"aria-labelledby":D.title?void 0:a($),"aria-describedby":a(M),class:T(`${a(b).namespace.value}-overlay-dialog`),style:se(a(u)),onClick:U[0]||(U[0]=(...J)=>a(N).onClick&&a(N).onClick(...J)),onMousedown:U[1]||(U[1]=(...J)=>a(N).onMousedown&&a(N).onMousedown(...J)),onMouseup:U[2]||(U[2]=(...J)=>a(N).onMouseup&&a(N).onMouseup(...J))},[K(a(ut),{loop:"",trapped:a(A),"focus-start-el":"container",onFocusAfterTrapped:a(t),onFocusAfterReleased:a(n),onFocusoutPrevented:a(O),onReleaseRequested:a(s)},{default:q(()=>[a(y)?(L(),ee(It,$e({key:0,ref_key:"dialogContentRef",ref:C},D.$attrs,{"custom-class":D.customClass,center:D.center,"align-center":D.alignCenter,"close-icon":D.closeIcon,draggable:a(V),fullscreen:D.fullscreen,"show-close":D.showClose,title:D.title,onClose:a(o)}),_e({header:q(()=>[D.$slots.title?z(D.$slots,"title",{key:1}):z(D.$slots,"header",{key:0,close:a(o),titleId:a($),titleClass:a(b).e("title")})]),default:q(()=>[z(D.$slots,"default")]),_:2},[D.$slots.footer?{name:"footer",fn:q(()=>[z(D.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):I("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,jt)]),_:3},8,["mask","overlay-class","z-index"]),[[ct,a(A)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Ht=ue(zt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Bs=Ae(Ht),qt=fe({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:i=>i>=0&&i<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:j(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:j([String,Array,Function]),default:""},format:{type:j(Function),default:i=>`${i}%`}}),Wt=["aria-valuenow"],Vt={viewBox:"0 0 100 100"},Yt=["d","stroke","stroke-width"],Kt=["d","stroke","opacity","stroke-linecap","stroke-width"],Jt={key:0},Zt=Q({name:"ElProgress"}),Gt=Q({...Zt,props:qt,setup(i){const f=i,l={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},d=le("progress"),b=W(()=>({width:`${f.percentage}%`,animationDuration:`${f.duration}s`,backgroundColor:o(f.percentage)})),k=W(()=>(f.strokeWidth/f.width*100).toFixed(1)),_=W(()=>["circle","dashboard"].includes(f.type)?Number.parseInt(`${50-Number.parseFloat(k.value)/2}`,10):0),C=W(()=>{const e=_.value,t=f.type==="dashboard";return`
          M 50 50
          m 0 ${t?"":"-"}${e}
          a ${e} ${e} 0 1 1 0 ${t?"-":""}${e*2}
          a ${e} ${e} 0 1 1 0 ${t?"":"-"}${e*2}
          `}),A=W(()=>2*Math.PI*_.value),$=W(()=>f.type==="dashboard"?.75:1),M=W(()=>`${-1*A.value*(1-$.value)/2}px`),g=W(()=>({strokeDasharray:`${A.value*$.value}px, ${A.value}px`,strokeDashoffset:M.value})),u=W(()=>({strokeDasharray:`${A.value*$.value*(f.percentage/100)}px, ${A.value}px`,strokeDashoffset:M.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),y=W(()=>{let e;return f.color?e=o(f.percentage):e=l[f.status]||l.default,e}),c=W(()=>f.status==="warning"?pt:f.type==="line"?f.status==="success"?Ye:ht:f.status==="success"?Ke:Je),w=W(()=>f.type==="line"?12+f.strokeWidth*.4:f.width*.111111+2),m=W(()=>f.format(f.percentage));function r(e){const t=100/e.length;return e.map((s,O)=>Ue(s)?{color:s,percentage:(O+1)*t}:s).sort((s,O)=>s.percentage-O.percentage)}const o=e=>{var t;const{color:n}=f;if(ze(n))return n(e);if(Ue(n))return n;{const s=r(n);for(const O of s)if(O.percentage>e)return O.color;return(t=s[s.length-1])==null?void 0:t.color}};return(e,t)=>(L(),P("div",{class:T([a(d).b(),a(d).m(e.type),a(d).is(e.status),{[a(d).m("without-text")]:!e.showText,[a(d).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[e.type==="line"?(L(),P("div",{key:0,class:T(a(d).b("bar"))},[X("div",{class:T(a(d).be("bar","outer")),style:se({height:`${e.strokeWidth}px`})},[X("div",{class:T([a(d).be("bar","inner"),{[a(d).bem("bar","inner","indeterminate")]:e.indeterminate}]),style:se(a(b))},[(e.showText||e.$slots.default)&&e.textInside?(L(),P("div",{key:0,class:T(a(d).be("bar","innerText"))},[z(e.$slots,"default",{percentage:e.percentage},()=>[X("span",null,ye(a(m)),1)])],2)):I("v-if",!0)],6)],6)],2)):(L(),P("div",{key:1,class:T(a(d).b("circle")),style:se({height:`${e.width}px`,width:`${e.width}px`})},[(L(),P("svg",Vt,[X("path",{class:T(a(d).be("circle","track")),d:a(C),stroke:`var(${a(d).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":a(k),fill:"none",style:se(a(g))},null,14,Yt),X("path",{class:T(a(d).be("circle","path")),d:a(C),stroke:a(y),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":a(k),style:se(a(u))},null,14,Kt)]))],6)),(e.showText||e.$slots.default)&&!e.textInside?(L(),P("div",{key:2,class:T(a(d).e("text")),style:se({fontSize:`${a(w)}px`})},[z(e.$slots,"default",{percentage:e.percentage},()=>[e.status?(L(),ee(a(ae),{key:1},{default:q(()=>[(L(),ee(qe(a(c))))]),_:1})):(L(),P("span",Jt,ye(a(m)),1))])],6)):I("v-if",!0)],10,Wt))}});var Xt=ue(Gt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const Qt=Ae(Xt),xt="ElUpload";class es extends Error{constructor(f,l,d,b){super(f),this.name="UploadAjaxError",this.status=l,this.method=d,this.url=b}}function Pe(i,f,l){let d;return l.response?d=`${l.response.error||l.response}`:l.responseText?d=`${l.responseText}`:d=`fail to ${f.method} ${i} ${l.status}`,new es(d,l.status,f.method,i)}function ts(i){const f=i.responseText||i.response;if(!f)return f;try{return JSON.parse(f)}catch{return f}}const ss=i=>{typeof XMLHttpRequest>"u"&&Me(xt,"XMLHttpRequest is undefined");const f=new XMLHttpRequest,l=i.action;f.upload&&f.upload.addEventListener("progress",k=>{const _=k;_.percent=k.total>0?k.loaded/k.total*100:0,i.onProgress(_)});const d=new FormData;if(i.data)for(const[k,_]of Object.entries(i.data))Array.isArray(_)?d.append(k,..._):d.append(k,_);d.append(i.filename,i.file,i.file.name),f.addEventListener("error",()=>{i.onError(Pe(l,i,f))}),f.addEventListener("load",()=>{if(f.status<200||f.status>=300)return i.onError(Pe(l,i,f));i.onSuccess(ts(f))}),f.open(i.method,l,!0),i.withCredentials&&"withCredentials"in f&&(f.withCredentials=!0);const b=i.headers||{};if(b instanceof Headers)b.forEach((k,_)=>f.setRequestHeader(_,k));else for(const[k,_]of Object.entries(b))Ze(_)||f.setRequestHeader(k,String(_));return f.send(d),f},xe=["text","picture","picture-card"];let ns=1;const De=()=>Date.now()+ns++,et=fe({action:{type:String,default:"#"},headers:{type:j(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>we({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:j(Array),default:()=>we([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:xe,default:"text"},httpRequest:{type:j(Function),default:ss},disabled:Boolean,limit:Number}),rs=fe({...et,beforeUpload:{type:j(Function),default:G},beforeRemove:{type:j(Function)},onRemove:{type:j(Function),default:G},onChange:{type:j(Function),default:G},onPreview:{type:j(Function),default:G},onSuccess:{type:j(Function),default:G},onProgress:{type:j(Function),default:G},onError:{type:j(Function),default:G},onExceed:{type:j(Function),default:G}}),as=fe({files:{type:j(Array),default:()=>we([])},disabled:{type:Boolean,default:!1},handlePreview:{type:j(Function),default:G},listType:{type:String,values:xe,default:"text"}}),os={remove:i=>!!i},is=["onKeydown"],ls=["src"],us=["onClick"],cs=["onClick"],ds=["onClick"],fs=Q({name:"ElUploadList"}),ps=Q({...fs,props:as,emits:os,setup(i,{emit:f}){const{t:l}=He(),d=le("upload"),b=le("icon"),k=le("list"),_=me(),C=ne(!1),A=$=>{f("remove",$)};return($,M)=>(L(),ee(mt,{tag:"ul",class:T([a(d).b("list"),a(d).bm("list",$.listType),a(d).is("disabled",a(_))]),name:a(k).b()},{default:q(()=>[(L(!0),P(ge,null,Se($.files,g=>(L(),P("li",{key:g.uid||g.name,class:T([a(d).be("list","item"),a(d).is(g.status),{focusing:C.value}]),tabindex:"0",onKeydown:Ge(u=>!a(_)&&A(g),["delete"]),onFocus:M[0]||(M[0]=u=>C.value=!0),onBlur:M[1]||(M[1]=u=>C.value=!1),onClick:M[2]||(M[2]=u=>C.value=!1)},[z($.$slots,"default",{file:g},()=>[$.listType==="picture"||g.status!=="uploading"&&$.listType==="picture-card"?(L(),P("img",{key:0,class:T(a(d).be("list","item-thumbnail")),src:g.url,alt:""},null,10,ls)):I("v-if",!0),g.status==="uploading"||$.listType!=="picture-card"?(L(),P("div",{key:1,class:T(a(d).be("list","item-info"))},[X("a",{class:T(a(d).be("list","item-name")),onClick:de(u=>$.handlePreview(g),["prevent"])},[K(a(ae),{class:T(a(b).m("document"))},{default:q(()=>[K(a(yt))]),_:1},8,["class"]),X("span",{class:T(a(d).be("list","item-file-name"))},ye(g.name),3)],10,us),g.status==="uploading"?(L(),ee(a(Qt),{key:0,type:$.listType==="picture-card"?"circle":"line","stroke-width":$.listType==="picture-card"?6:2,percentage:Number(g.percentage),style:se($.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):I("v-if",!0)],2)):I("v-if",!0),X("label",{class:T(a(d).be("list","item-status-label"))},[$.listType==="text"?(L(),ee(a(ae),{key:0,class:T([a(b).m("upload-success"),a(b).m("circle-check")])},{default:q(()=>[K(a(Ye))]),_:1},8,["class"])):["picture-card","picture"].includes($.listType)?(L(),ee(a(ae),{key:1,class:T([a(b).m("upload-success"),a(b).m("check")])},{default:q(()=>[K(a(Ke))]),_:1},8,["class"])):I("v-if",!0)],2),a(_)?I("v-if",!0):(L(),ee(a(ae),{key:2,class:T(a(b).m("close")),onClick:u=>A(g)},{default:q(()=>[K(a(Je))]),_:2},1032,["class","onClick"])),I(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),I(" This is a bug which needs to be fixed "),I(" TODO: Fix the incorrect navigation interaction "),a(_)?I("v-if",!0):(L(),P("i",{key:3,class:T(a(b).m("close-tip"))},ye(a(l)("el.upload.deleteTip")),3)),$.listType==="picture-card"?(L(),P("span",{key:4,class:T(a(d).be("list","item-actions"))},[X("span",{class:T(a(d).be("list","item-preview")),onClick:u=>$.handlePreview(g)},[K(a(ae),{class:T(a(b).m("zoom-in"))},{default:q(()=>[K(a(vt))]),_:1},8,["class"])],10,cs),a(_)?I("v-if",!0):(L(),P("span",{key:0,class:T(a(d).be("list","item-delete")),onClick:u=>A(g)},[K(a(ae),{class:T(a(b).m("delete"))},{default:q(()=>[K(a(gt))]),_:1},8,["class"])],10,ds))],2)):I("v-if",!0)])],42,is))),128)),z($.$slots,"append")]),_:3},8,["class","name"]))}});var Be=ue(ps,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const hs=fe({disabled:{type:Boolean,default:!1}}),ys={file:i=>bt(i)},vs=["onDrop","onDragover"],tt="ElUploadDrag",gs=Q({name:tt}),ms=Q({...gs,props:hs,emits:ys,setup(i,{emit:f}){const l=be(Qe);l||Me(tt,"usage: <el-upload><el-upload-dragger /></el-upload>");const d=le("upload"),b=ne(!1),k=me(),_=A=>{if(k.value)return;b.value=!1,A.stopPropagation();const $=Array.from(A.dataTransfer.files),M=l.accept.value;if(!M){f("file",$);return}const g=$.filter(u=>{const{type:y,name:c}=u,w=c.includes(".")?`.${c.split(".").pop()}`:"",m=y.replace(/\/.*$/,"");return M.split(",").map(r=>r.trim()).filter(r=>r).some(r=>r.startsWith(".")?w===r:/\/\*$/.test(r)?m===r.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(r)?y===r:!1)});f("file",g)},C=()=>{k.value||(b.value=!0)};return(A,$)=>(L(),P("div",{class:T([a(d).b("dragger"),a(d).is("dragover",b.value)]),onDrop:de(_,["prevent"]),onDragover:de(C,["prevent"]),onDragleave:$[0]||($[0]=de(M=>b.value=!1,["prevent"]))},[z(A.$slots,"default")],42,vs))}});var bs=ue(ms,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const $s=fe({...et,beforeUpload:{type:j(Function),default:G},onRemove:{type:j(Function),default:G},onStart:{type:j(Function),default:G},onSuccess:{type:j(Function),default:G},onProgress:{type:j(Function),default:G},onError:{type:j(Function),default:G},onExceed:{type:j(Function),default:G}}),_s=["onKeydown"],ws=["name","multiple","accept"],Ss=Q({name:"ElUploadContent",inheritAttrs:!1}),Cs=Q({...Ss,props:$s,setup(i,{expose:f}){const l=i,d=le("upload"),b=me(),k=Ce({}),_=Ce(),C=c=>{if(c.length===0)return;const{autoUpload:w,limit:m,fileList:r,multiple:o,onStart:e,onExceed:t}=l;if(m&&r.length+c.length>m){t(c,r);return}o||(c=c.slice(0,1));for(const n of c){const s=n;s.uid=De(),e(s),w&&A(s)}},A=async c=>{if(_.value.value="",!l.beforeUpload)return $(c);let w;try{w=await l.beforeUpload(c)}catch{w=!1}if(w===!1){l.onRemove(c);return}let m=c;w instanceof Blob&&(w instanceof File?m=w:m=new File([w],c.name,{type:c.type})),$(Object.assign(m,{uid:c.uid}))},$=c=>{const{headers:w,data:m,method:r,withCredentials:o,name:e,action:t,onProgress:n,onSuccess:s,onError:O,httpRequest:N}=l,{uid:V}=c,D={headers:w||{},withCredentials:o,file:c,data:m,method:r,filename:e,action:t,onProgress:J=>{n(J,c)},onSuccess:J=>{s(J,c),delete k.value[V]},onError:J=>{O(J,c),delete k.value[V]}},U=N(D);k.value[V]=U,U instanceof Promise&&U.then(D.onSuccess,D.onError)},M=c=>{const w=c.target.files;w&&C(Array.from(w))},g=()=>{b.value||(_.value.value="",_.value.click())},u=()=>{g()};return f({abort:c=>{$t(k.value).filter(c?([m])=>String(c.uid)===m:()=>!0).forEach(([m,r])=>{r instanceof XMLHttpRequest&&r.abort(),delete k.value[m]})},upload:A}),(c,w)=>(L(),P("div",{class:T([a(d).b(),a(d).m(c.listType),a(d).is("drag",c.drag)]),tabindex:"0",onClick:g,onKeydown:Ge(de(u,["self"]),["enter","space"])},[c.drag?(L(),ee(bs,{key:0,disabled:a(b),onFile:C},{default:q(()=>[z(c.$slots,"default")]),_:3},8,["disabled"])):z(c.$slots,"default",{key:1}),X("input",{ref_key:"inputRef",ref:_,class:T(a(d).e("input")),name:c.name,multiple:c.multiple,accept:c.accept,type:"file",onChange:M,onClick:w[0]||(w[0]=de(()=>{},["stop"]))},null,42,ws)],42,_s))}});var Ie=ue(Cs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const je="ElUpload",ks=i=>{var f;(f=i.url)!=null&&f.startsWith("blob:")&&URL.revokeObjectURL(i.url)},Ds=(i,f)=>{const l=_t(i,"fileList",void 0,{passive:!0}),d=u=>l.value.find(y=>y.uid===u.uid);function b(u){var y;(y=f.value)==null||y.abort(u)}function k(u=["ready","uploading","success","fail"]){l.value=l.value.filter(y=>!u.includes(y.status))}const _=(u,y)=>{const c=d(y);c&&(console.error(u),c.status="fail",l.value.splice(l.value.indexOf(c),1),i.onError(u,c,l.value),i.onChange(c,l.value))},C=(u,y)=>{const c=d(y);c&&(i.onProgress(u,c,l.value),c.status="uploading",c.percentage=Math.round(u.percent))},A=(u,y)=>{const c=d(y);c&&(c.status="success",c.response=u,i.onSuccess(u,c,l.value),i.onChange(c,l.value))},$=u=>{Ze(u.uid)&&(u.uid=De());const y={name:u.name,percentage:0,status:"ready",size:u.size,raw:u,uid:u.uid};if(i.listType==="picture-card"||i.listType==="picture")try{y.url=URL.createObjectURL(u)}catch(c){wt(je,c.message),i.onError(c,y,l.value)}l.value=[...l.value,y],i.onChange(y,l.value)},M=async u=>{const y=u instanceof File?d(u):u;y||Me(je,"file to be removed not found");const c=w=>{b(w);const m=l.value;m.splice(m.indexOf(w),1),i.onRemove(w,m),ks(w)};i.beforeRemove?await i.beforeRemove(y,l.value)!==!1&&c(y):c(y)};function g(){l.value.filter(({status:u})=>u==="ready").forEach(({raw:u})=>{var y;return u&&((y=f.value)==null?void 0:y.upload(u))})}return Te(()=>i.listType,u=>{u!=="picture-card"&&u!=="picture"||(l.value=l.value.map(y=>{const{raw:c,url:w}=y;if(!w&&c)try{y.url=URL.createObjectURL(c)}catch(m){i.onError(m,y,l.value)}return y}))}),Te(l,u=>{for(const y of u)y.uid||(y.uid=De()),y.status||(y.status="success")},{immediate:!0,deep:!0}),{uploadFiles:l,abort:b,clearFiles:k,handleError:_,handleProgress:C,handleStart:$,handleSuccess:A,handleRemove:M,submit:g}},Fs=Q({name:"ElUpload"}),As=Q({...Fs,props:rs,setup(i,{expose:f}){const l=i,d=We(),b=me(),k=Ce(),{abort:_,submit:C,clearFiles:A,uploadFiles:$,handleStart:M,handleError:g,handleRemove:u,handleSuccess:y,handleProgress:c}=Ds(l,k),w=W(()=>l.listType==="picture-card"),m=W(()=>({...l,fileList:$.value,onStart:M,onProgress:c,onSuccess:y,onError:g,onRemove:u}));return St(()=>{$.value.forEach(({url:r})=>{r!=null&&r.startsWith("blob:")&&URL.revokeObjectURL(r)})}),Ve(Qe,{accept:Ct(l,"accept")}),f({abort:_,submit:C,clearFiles:A,handleStart:M,handleRemove:u}),(r,o)=>(L(),P("div",null,[a(w)&&r.showFileList?(L(),ee(Be,{key:0,disabled:a(b),"list-type":r.listType,files:a($),"handle-preview":r.onPreview,onRemove:a(u)},_e({append:q(()=>[K(Ie,$e({ref_key:"uploadRef",ref:k},a(m)),{default:q(()=>[a(d).trigger?z(r.$slots,"trigger",{key:0}):I("v-if",!0),!a(d).trigger&&a(d).default?z(r.$slots,"default",{key:1}):I("v-if",!0)]),_:3},16)]),_:2},[r.$slots.file?{name:"default",fn:q(({file:e})=>[z(r.$slots,"file",{file:e})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):I("v-if",!0),!a(w)||a(w)&&!r.showFileList?(L(),ee(Ie,$e({key:1,ref_key:"uploadRef",ref:k},a(m)),{default:q(()=>[a(d).trigger?z(r.$slots,"trigger",{key:0}):I("v-if",!0),!a(d).trigger&&a(d).default?z(r.$slots,"default",{key:1}):I("v-if",!0)]),_:3},16)):I("v-if",!0),r.$slots.trigger?z(r.$slots,"default",{key:2}):I("v-if",!0),z(r.$slots,"tip"),!a(w)&&r.showFileList?(L(),ee(Be,{key:3,disabled:a(b),"list-type":r.listType,files:a($),"handle-preview":r.onPreview,onRemove:a(u)},_e({_:2},[r.$slots.file?{name:"default",fn:q(({file:e})=>[z(r.$slots,"file",{file:e})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):I("v-if",!0)]))}});var Ms=ue(As,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const Is=Ae(Ms);const js=i=>Re.post("/createProduct",i),Ns=i=>Re.post("/updateProduct",i),zs=i=>Re.post("/removeFiles",i);var Fe={},Rs={get exports(){return Fe},set exports(i){Fe=i}};(function(i,f){(function(l){i.exports=l()})(function(l){var d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function b(r,o){var e=r[0],t=r[1],n=r[2],s=r[3];e+=(t&n|~t&s)+o[0]-680876936|0,e=(e<<7|e>>>25)+t|0,s+=(e&t|~e&n)+o[1]-389564586|0,s=(s<<12|s>>>20)+e|0,n+=(s&e|~s&t)+o[2]+606105819|0,n=(n<<17|n>>>15)+s|0,t+=(n&s|~n&e)+o[3]-1044525330|0,t=(t<<22|t>>>10)+n|0,e+=(t&n|~t&s)+o[4]-176418897|0,e=(e<<7|e>>>25)+t|0,s+=(e&t|~e&n)+o[5]+1200080426|0,s=(s<<12|s>>>20)+e|0,n+=(s&e|~s&t)+o[6]-1473231341|0,n=(n<<17|n>>>15)+s|0,t+=(n&s|~n&e)+o[7]-45705983|0,t=(t<<22|t>>>10)+n|0,e+=(t&n|~t&s)+o[8]+1770035416|0,e=(e<<7|e>>>25)+t|0,s+=(e&t|~e&n)+o[9]-1958414417|0,s=(s<<12|s>>>20)+e|0,n+=(s&e|~s&t)+o[10]-42063|0,n=(n<<17|n>>>15)+s|0,t+=(n&s|~n&e)+o[11]-1990404162|0,t=(t<<22|t>>>10)+n|0,e+=(t&n|~t&s)+o[12]+1804603682|0,e=(e<<7|e>>>25)+t|0,s+=(e&t|~e&n)+o[13]-40341101|0,s=(s<<12|s>>>20)+e|0,n+=(s&e|~s&t)+o[14]-1502002290|0,n=(n<<17|n>>>15)+s|0,t+=(n&s|~n&e)+o[15]+1236535329|0,t=(t<<22|t>>>10)+n|0,e+=(t&s|n&~s)+o[1]-165796510|0,e=(e<<5|e>>>27)+t|0,s+=(e&n|t&~n)+o[6]-1069501632|0,s=(s<<9|s>>>23)+e|0,n+=(s&t|e&~t)+o[11]+643717713|0,n=(n<<14|n>>>18)+s|0,t+=(n&e|s&~e)+o[0]-373897302|0,t=(t<<20|t>>>12)+n|0,e+=(t&s|n&~s)+o[5]-701558691|0,e=(e<<5|e>>>27)+t|0,s+=(e&n|t&~n)+o[10]+38016083|0,s=(s<<9|s>>>23)+e|0,n+=(s&t|e&~t)+o[15]-660478335|0,n=(n<<14|n>>>18)+s|0,t+=(n&e|s&~e)+o[4]-405537848|0,t=(t<<20|t>>>12)+n|0,e+=(t&s|n&~s)+o[9]+568446438|0,e=(e<<5|e>>>27)+t|0,s+=(e&n|t&~n)+o[14]-1019803690|0,s=(s<<9|s>>>23)+e|0,n+=(s&t|e&~t)+o[3]-187363961|0,n=(n<<14|n>>>18)+s|0,t+=(n&e|s&~e)+o[8]+1163531501|0,t=(t<<20|t>>>12)+n|0,e+=(t&s|n&~s)+o[13]-1444681467|0,e=(e<<5|e>>>27)+t|0,s+=(e&n|t&~n)+o[2]-51403784|0,s=(s<<9|s>>>23)+e|0,n+=(s&t|e&~t)+o[7]+1735328473|0,n=(n<<14|n>>>18)+s|0,t+=(n&e|s&~e)+o[12]-1926607734|0,t=(t<<20|t>>>12)+n|0,e+=(t^n^s)+o[5]-378558|0,e=(e<<4|e>>>28)+t|0,s+=(e^t^n)+o[8]-2022574463|0,s=(s<<11|s>>>21)+e|0,n+=(s^e^t)+o[11]+1839030562|0,n=(n<<16|n>>>16)+s|0,t+=(n^s^e)+o[14]-35309556|0,t=(t<<23|t>>>9)+n|0,e+=(t^n^s)+o[1]-1530992060|0,e=(e<<4|e>>>28)+t|0,s+=(e^t^n)+o[4]+1272893353|0,s=(s<<11|s>>>21)+e|0,n+=(s^e^t)+o[7]-155497632|0,n=(n<<16|n>>>16)+s|0,t+=(n^s^e)+o[10]-1094730640|0,t=(t<<23|t>>>9)+n|0,e+=(t^n^s)+o[13]+681279174|0,e=(e<<4|e>>>28)+t|0,s+=(e^t^n)+o[0]-358537222|0,s=(s<<11|s>>>21)+e|0,n+=(s^e^t)+o[3]-722521979|0,n=(n<<16|n>>>16)+s|0,t+=(n^s^e)+o[6]+76029189|0,t=(t<<23|t>>>9)+n|0,e+=(t^n^s)+o[9]-640364487|0,e=(e<<4|e>>>28)+t|0,s+=(e^t^n)+o[12]-421815835|0,s=(s<<11|s>>>21)+e|0,n+=(s^e^t)+o[15]+530742520|0,n=(n<<16|n>>>16)+s|0,t+=(n^s^e)+o[2]-995338651|0,t=(t<<23|t>>>9)+n|0,e+=(n^(t|~s))+o[0]-198630844|0,e=(e<<6|e>>>26)+t|0,s+=(t^(e|~n))+o[7]+1126891415|0,s=(s<<10|s>>>22)+e|0,n+=(e^(s|~t))+o[14]-1416354905|0,n=(n<<15|n>>>17)+s|0,t+=(s^(n|~e))+o[5]-57434055|0,t=(t<<21|t>>>11)+n|0,e+=(n^(t|~s))+o[12]+1700485571|0,e=(e<<6|e>>>26)+t|0,s+=(t^(e|~n))+o[3]-1894986606|0,s=(s<<10|s>>>22)+e|0,n+=(e^(s|~t))+o[10]-1051523|0,n=(n<<15|n>>>17)+s|0,t+=(s^(n|~e))+o[1]-2054922799|0,t=(t<<21|t>>>11)+n|0,e+=(n^(t|~s))+o[8]+1873313359|0,e=(e<<6|e>>>26)+t|0,s+=(t^(e|~n))+o[15]-30611744|0,s=(s<<10|s>>>22)+e|0,n+=(e^(s|~t))+o[6]-1560198380|0,n=(n<<15|n>>>17)+s|0,t+=(s^(n|~e))+o[13]+1309151649|0,t=(t<<21|t>>>11)+n|0,e+=(n^(t|~s))+o[4]-145523070|0,e=(e<<6|e>>>26)+t|0,s+=(t^(e|~n))+o[11]-1120210379|0,s=(s<<10|s>>>22)+e|0,n+=(e^(s|~t))+o[2]+718787259|0,n=(n<<15|n>>>17)+s|0,t+=(s^(n|~e))+o[9]-343485551|0,t=(t<<21|t>>>11)+n|0,r[0]=e+r[0]|0,r[1]=t+r[1]|0,r[2]=n+r[2]|0,r[3]=s+r[3]|0}function k(r){var o=[],e;for(e=0;e<64;e+=4)o[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return o}function _(r){var o=[],e;for(e=0;e<64;e+=4)o[e>>2]=r[e]+(r[e+1]<<8)+(r[e+2]<<16)+(r[e+3]<<24);return o}function C(r){var o=r.length,e=[1732584193,-271733879,-1732584194,271733878],t,n,s,O,N,V;for(t=64;t<=o;t+=64)b(e,k(r.substring(t-64,t)));for(r=r.substring(t-64),n=r.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)s[t>>2]|=r.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(b(e,s),t=0;t<16;t+=1)s[t]=0;return O=o*8,O=O.toString(16).match(/(.*?)(.{0,8})$/),N=parseInt(O[2],16),V=parseInt(O[1],16)||0,s[14]=N,s[15]=V,b(e,s),e}function A(r){var o=r.length,e=[1732584193,-271733879,-1732584194,271733878],t,n,s,O,N,V;for(t=64;t<=o;t+=64)b(e,_(r.subarray(t-64,t)));for(r=t-64<o?r.subarray(t-64):new Uint8Array(0),n=r.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)s[t>>2]|=r[t]<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(b(e,s),t=0;t<16;t+=1)s[t]=0;return O=o*8,O=O.toString(16).match(/(.*?)(.{0,8})$/),N=parseInt(O[2],16),V=parseInt(O[1],16)||0,s[14]=N,s[15]=V,b(e,s),e}function $(r){var o="",e;for(e=0;e<4;e+=1)o+=d[r>>e*8+4&15]+d[r>>e*8&15];return o}function M(r){var o;for(o=0;o<r.length;o+=1)r[o]=$(r[o]);return r.join("")}M(C("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function r(o,e){return o=o|0||0,o<0?Math.max(o+e,0):Math.min(o,e)}ArrayBuffer.prototype.slice=function(o,e){var t=this.byteLength,n=r(o,t),s=t,O,N,V,D;return e!==l&&(s=r(e,t)),n>s?new ArrayBuffer(0):(O=s-n,N=new ArrayBuffer(O),V=new Uint8Array(N),D=new Uint8Array(this,n,O),V.set(D),N)}}();function g(r){return/[\u0080-\uFFFF]/.test(r)&&(r=unescape(encodeURIComponent(r))),r}function u(r,o){var e=r.length,t=new ArrayBuffer(e),n=new Uint8Array(t),s;for(s=0;s<e;s+=1)n[s]=r.charCodeAt(s);return o?n:t}function y(r){return String.fromCharCode.apply(null,new Uint8Array(r))}function c(r,o,e){var t=new Uint8Array(r.byteLength+o.byteLength);return t.set(new Uint8Array(r)),t.set(new Uint8Array(o),r.byteLength),e?t:t.buffer}function w(r){var o=[],e=r.length,t;for(t=0;t<e-1;t+=2)o.push(parseInt(r.substr(t,2),16));return String.fromCharCode.apply(String,o)}function m(){this.reset()}return m.prototype.append=function(r){return this.appendBinary(g(r)),this},m.prototype.appendBinary=function(r){this._buff+=r,this._length+=r.length;var o=this._buff.length,e;for(e=64;e<=o;e+=64)b(this._hash,k(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},m.prototype.end=function(r){var o=this._buff,e=o.length,t,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s;for(t=0;t<e;t+=1)n[t>>2]|=o.charCodeAt(t)<<(t%4<<3);return this._finish(n,e),s=M(this._hash),r&&(s=w(s)),this.reset(),s},m.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},m.prototype.setState=function(r){return this._buff=r.buff,this._length=r.length,this._hash=r.hash,this},m.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},m.prototype._finish=function(r,o){var e=o,t,n,s;if(r[e>>2]|=128<<(e%4<<3),e>55)for(b(this._hash,r),e=0;e<16;e+=1)r[e]=0;t=this._length*8,t=t.toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(t[2],16),s=parseInt(t[1],16)||0,r[14]=n,r[15]=s,b(this._hash,r)},m.hash=function(r,o){return m.hashBinary(g(r),o)},m.hashBinary=function(r,o){var e=C(r),t=M(e);return o?w(t):t},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(r){var o=c(this._buff.buffer,r,!0),e=o.length,t;for(this._length+=r.byteLength,t=64;t<=e;t+=64)b(this._hash,_(o.subarray(t-64,t)));return this._buff=t-64<e?new Uint8Array(o.buffer.slice(t-64)):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(r){var o=this._buff,e=o.length,t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n,s;for(n=0;n<e;n+=1)t[n>>2]|=o[n]<<(n%4<<3);return this._finish(t,e),s=M(this._hash),r&&(s=w(s)),this.reset(),s},m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.getState=function(){var r=m.prototype.getState.call(this);return r.buff=y(r.buff),r},m.ArrayBuffer.prototype.setState=function(r){return r.buff=u(r.buff,!0),m.prototype.setState.call(this,r)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(r,o){var e=A(new Uint8Array(r)),t=M(e);return o?w(t):t},m})})(Rs);const Ne=Fe,Hs=i=>new Promise((f,l)=>{const b=i.size,k=Math.ceil(b/5242880);let _=0;var C=new Ne.ArrayBuffer;const A=new FileReader,$=File.prototype.slice;function M(){var g=_*5242880,u=g+5242880>i.size?i.size:g+5242880;A.readAsArrayBuffer($.call(i,g,u))}A.onload=function(g){const u=g.target.result;if(C.append(u),_+=1,_<k)M(),console.log(`第${_}分片解析完成，开始解析${_+1}分片`);else{console.log("解析完成");const y=C.end(),c=i.name.split("."),w=c[c.length-1],m=new Ne;m.append(y),m.append(w);const r=m.end();f(r)}},A.onerror=()=>{console.warn("文件读取错误")},M()}),Es=["src"],Ls=["src"],Us=Q({__name:"uploadVideo",props:{fileList:null,limit:null,httpRequest:{type:Function},beforeUpload:{type:Function},onRemove:{type:Function}},emits:["update:fileList"],setup(i,{emit:f}){const l=i,d=ne(l.limit),b=ne(),k=ne(),_=ne(!1),C=W({get:()=>l.fileList,set:g=>f("update:fileList",g)});function A(){_.value=!1,kt(()=>b.value.click())}async function $(){if(l.fileList.length>=d.value){console.error("上传视频量到达上限");return}const g=b.value.files[0];try{await l.beforeUpload(g),await(l==null?void 0:l.httpRequest(g));const u=l.fileList.concat(g);C.value=u,_.value=!0}catch(u){console.error(u)}}function M(g){return Object.prototype.toString.call(g).includes("File")?URL.createObjectURL(g):g.url}return(g,u)=>{const y=Oe("Close"),c=Oe("Plus");return L(),P(ge,null,[_.value?I("",!0):(L(),P("input",{key:0,type:"file",ref_key:"inputRef",ref:b,accept:"video/*",class:"hideInput",onChange:$},null,544)),a(C).length>0&&a(C).length<d.value?(L(!0),P(ge,{key:1},Se(a(C),(w,m)=>(L(),P("div",{class:"videoBox",key:w.name},[K(y,{class:"icon-close",onClick:r=>i.onRemove(w)},null,8,["onClick"]),X("video",{style:{width:"100%",height:"100%"},ref_for:!0,ref_key:"videoRef",ref:k,controls:"",src:M(w)},null,8,Es)]))),128)):(L(!0),P(ge,{key:2},Se(a(C).slice(0,d.value),(w,m)=>(L(),P("div",{class:"videoBox",key:m},[K(y,{class:"icon-close",onClick:r=>i.onRemove(w)},null,8,["onClick"]),X("video",{style:{width:"100%",height:"100%"},ref_for:!0,ref_key:"videoRef",ref:k,controls:"",src:M(w)},null,8,Ls)]))),128)),a(C).length<d.value?(L(),P("div",{key:3,class:"uploadVideoBox",onClick:A},[K(c,{class:"uploadVideoIcon"})])):I("",!0)],64)}}});const qs=Dt(Us,[["__scopeId","data-v-c5f05fe3"]]);export{Is as E,Bs as a,Ns as b,js as c,Ps as d,Hs as h,zs as r,qs as u};
